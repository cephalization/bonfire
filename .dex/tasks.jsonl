{"id":"2fvxakhr","parent_id":"cs6opp1d","name":"Phase 2: Remove Serial Console","description":"","priority":1,"completed":true,"result":"Removed serial console service: deleted serial.ts, serial-connections.ts, serial-runner.ts and their tests; removed pipe creation from process.ts; removed serial dependencies from bootstrap.ts, terminal.ts, ws/terminal.ts, vm-watchdog.ts; updated test-utils.ts, terminal.test.ts, process.test.ts, and bootstrap.test.ts to reflect serial console removal; simplified FirecrackerProcess interface to remove pipe paths; terminal and bootstrap now return unavailable errors. All tests pass (367 total).","metadata":null,"created_at":"2026-02-04T15:51:28.367Z","updated_at":"2026-02-04T16:14:59.384Z","started_at":"2026-02-04T15:56:07.754Z","completed_at":"2026-02-04T16:14:59.384Z","blockedBy":[],"blocks":[],"children":[]}
{"id":"ckhuffml","parent_id":"cs6opp1d","name":"Phase 4: Simplify Image Management","description":"","priority":1,"completed":true,"result":"Simplified image management by removing OCI registry pulling (RegistryService, 550 lines) and QuickStartService (S3 downloads). Images API now only supports local file path registration. Removed /api/images/pull and /api/images/quickstart endpoints. CLI 'pull' command removed with helpful error. SDK pullImage() removed. All 345 tests pass.","metadata":null,"created_at":"2026-02-04T15:51:30.695Z","updated_at":"2026-02-04T16:26:08.210Z","started_at":"2026-02-04T16:15:28.285Z","completed_at":"2026-02-04T16:26:08.210Z","blockedBy":[],"blocks":[],"children":[]}
{"id":"cs6opp1d","parent_id":null,"name":"Bonfire Architecture Refactor","description":"","priority":1,"completed":false,"result":null,"metadata":null,"created_at":"2026-02-04T15:51:20.780Z","updated_at":"2026-02-04T15:51:20.780Z","started_at":null,"completed_at":null,"blockedBy":[],"blocks":[],"children":["xrhugo8c","2fvxakhr","lmse9cyd","ckhuffml","zvzhewng","w8a8vk3f","ypwrhvbq"]}
{"id":"lmse9cyd","parent_id":"cs6opp1d","name":"Phase 3: Remove Agent Sessions","description":"","priority":1,"completed":true,"result":"Removed Agent Session infrastructure: deleted agent-sessions.ts routes (665 lines), bootstrap.ts service, agent-session-watchdog.ts, opencode-proxy.ts routes (324 lines) and all related tests. Updated API index.ts to remove routes and watchdog startup. Removed agent_sessions table from database schema and migrations. All tests pass (148 API tests, 106 web tests, 36 CLI tests, 4 SDK tests).","metadata":null,"created_at":"2026-02-04T15:51:29.697Z","updated_at":"2026-02-04T16:34:37.311Z","started_at":"2026-02-04T16:26:49.645Z","completed_at":"2026-02-04T16:34:37.311Z","blockedBy":[],"blocks":[],"children":[]}
{"id":"w8a8vk3f","parent_id":"cs6opp1d","name":"Phase 6: SSH Key Injection","description":"","priority":1,"completed":true,"result":"Implemented SSH Key Injection for VMs: Created ssh-keys service that generates Ed25519 key pairs, mounts VM rootfs, injects authorized_keys into /home/agent/.ssh/, and sets proper permissions (700 for .ssh, 600 for authorized_keys). Updated VM start route to inject keys before boot. Updated CLI SSH command to use native SSH client instead of WebSocket terminal. Added 14 unit tests for the SSH key injection service. All 308 tests pass.","metadata":null,"created_at":"2026-02-04T15:51:33.586Z","updated_at":"2026-02-04T16:46:59.509Z","started_at":"2026-02-04T16:35:38.956Z","completed_at":"2026-02-04T16:46:59.509Z","blockedBy":[],"blocks":[],"children":[]}
{"id":"xrhugo8c","parent_id":"cs6opp1d","name":"Phase 1: Simplify Authentication","description":"","priority":1,"completed":true,"result":"Replaced Better Auth with simple API key authentication. Updated API middleware, SDK client, CLI config, and Web UI auth client. All 306 tests passing. Changed from session-based auth to X-API-Key header validation. Removed Better Auth dependencies and simplified auth configuration.","metadata":null,"created_at":"2026-02-04T15:51:26.669Z","updated_at":"2026-02-04T17:03:33.380Z","started_at":"2026-02-04T16:48:31.161Z","completed_at":"2026-02-04T17:03:33.380Z","blockedBy":[],"blocks":[],"children":[]}
{"id":"ypwrhvbq","parent_id":"cs6opp1d","name":"Phase 7: Testing & Cleanup","description":"","priority":1,"completed":true,"result":"Phase 7 completed: Updated auth integration tests for API key authentication, created comprehensive REFACTOR_SUMMARY.md documenting all architectural changes, created MIGRATION_GUIDE.md for users upgrading from old architecture, verified all 306 unit tests pass across all packages (API: 162, Web: 106, SDK: 4, CLI: 34), updated LEARNINGS.md with Phase 7 insights","metadata":null,"created_at":"2026-02-04T15:51:34.683Z","updated_at":"2026-02-04T17:12:05.996Z","started_at":"2026-02-04T17:04:15.685Z","completed_at":"2026-02-04T17:12:05.996Z","blockedBy":[],"blocks":[],"children":[]}
{"id":"zvzhewng","parent_id":"cs6opp1d","name":"Phase 5: Update CLI","description":"","priority":1,"completed":true,"result":"Updated CLI for architecture refactor: 1) Removed deprecated 'exec' command (API endpoint no longer exists), 2) Added GET /api/vms/:id/ssh-key endpoint for downloading VM SSH keys, 3) Updated CLI 'ssh' command to automatically download keys from API before connecting, 4) Updated help text to remove references to removed commands (exec, pull), 5) Removed parseExecArgs and handleVMExec functions from vm.ts, 6) Added loadPrivateKey function to ssh-keys service, 7) Updated SDK with getVMSSHKey method, 8) Removed exec command tests from vm.test.ts. All tests pass (299 total).","metadata":null,"created_at":"2026-02-04T15:51:32.157Z","updated_at":"2026-02-04T17:19:43.317Z","started_at":"2026-02-04T17:12:43.256Z","completed_at":"2026-02-04T17:19:43.317Z","blockedBy":[],"blocks":[],"children":[]}
